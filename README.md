<h1> Storage Committer <img align="center" height="50" src="./img/database.svg">  </h1>

The concurrent Storage committer is a module responsible for merging and flushing, in batch mode, the state transitions generated by parallel EVM instances into the Arcology storage.

<h2> What Is Concurrent Committer <img align="center" height="32" src="./img/question.svg"> </h2>

The Ethereum Virtual Machine (EVM) relies on the stateDB for reading and writing state data. A limitation of the original design is its inability to manage concurrency. Attempts to have multiple EVMs share the same StateDB introduce thread safety problems.

Arcology Network is a blockchain that supports parallel processing, necessitating a storage layer that facilitates concurrency.

<h2> Design <img align="center" height="32" src="./img/design.svg">  </h2>

The module is responsible for the following tasks. 

- Gathering state transitions asynchronously from mutiple EVM instances.
- Categorizing transitions based on their memory slot info.
- Detecting potential access conflicts and reverting transitions related to the transaction causing them. 
- Writing the transitions to the Ethereum stateDB in batch.

<!-- <br /> -->
![](./img/types.png)
<br />

>> To support parallel updates in batch mode, similar to the EVM, the original Ethereum Trie implementation has already been parallelized through some special extensions. The `Batch Writer` in the diagram above is one of them.


<h2> More Info  <img align="center" height="32" src="./img/info.svg">  </h2>

For further details and integration guidelines with Arcology, please refer to [our design documents.](https://doc.arcology.network/arcology-concurrency-control/evm-integration)


<h2> License  <img align="center" height="32" src="./img/copyright.svg">  </h2>

This project is licensed under the MIT License.